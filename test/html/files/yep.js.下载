!function(e,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var t=n();for(var r in t)("object"==typeof exports?exports:e)[r]=t[r]}}(self,(function(){return function(){"use strict";var e={d:function(n,t){for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},o:function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e,n,r){return(n=function(e){var n=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===t(n)?n:String(n)}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}e.r(n),e.d(n,{default:function(){return g}});var o={domain:"https://yep.yuewen.com",oversea:"https://resyep.yuewen.com",custom:"/report/custom",page:"/report/page",vitals:"/report/vitals",dimensions:["fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","requestStart","responseStart","responseEnd","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","loadEventStart","encodedBodySize","decodedBodySize","transferSize","secureConnectionStart"],key:{1:{dns:"dnsDuration",tcp:"tcpDuration",ttfb:"ttfbDuration",trans:"transDuration",dom:"domParseDuration",res:"resourceDuration",fb:"fbDuration",fpt:"fptDuration",tti:"ttiDuration",ready:"readyDuration",load:"loadDuration"},2:{dns:"dns",tcp:"tcp",ttfb:"ttfb",trans:"trans",dom:"dom",res:"res",fb:"fb",fpt:"fpt",tti:"tti",ready:"ready",load:"load"}},ignore:["vn"],customIgnore:["appid","sample","rate","immed","release","oversea","vn","test"],webvitals:"https://qidian.gtimg.com/lib/web-vitals.3.1.0.iife.js"},a=function(e,n,t){var r={},a=o.ignore;for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);for(var d in n)-1!==a.indexOf(d)?console.warn("YEP 内部属性: "+d+" 不能被覆盖修改"):t&&-1!==t.indexOf(d)?console.warn("自定义上报不允许修改 "+d+" 属性"):Object.prototype.hasOwnProperty.call(n,d)&&(r[d]=n[d]);return r},i=function(e){return"?"+Object.keys(e).map((function(n){return n+"="+e[n]})).join("&")},d=function(e,n){for(var t=e.length,r=!0,o=0;o<t;o++)if(!(r=n[e[o]]))return r;return r},s=function(){return!!(window&&window.navigator&&window.navigator.sendBeacon)},c=function(e,n){var t=document.createElement("script");t.src=o.webvitals,t.async=!0,t.onload=function(){webVitals.onCLS(e.bind(n)),webVitals.onFID(e.bind(n)),webVitals.onLCP(e.bind(n)),console.info("web-vitals loaded successfuly, data will be send")},t.onerror=function(){console.error("Error occurred while loading web-vitals")},document.body.appendChild(t)};!function(e){var n=Date.now?Date.now():+new Date,t=e.performance||{},r=[],o={},a=function(e,n){for(var t=0,o=r.length,a=[];t<o;t++)r[t][e]==n&&a.push(r[t]);return a},i=function(e,n){for(var t,o=r.length;o--;)(t=r[o]).entryType!=e||void 0!==n&&t.name!=n||r.splice(o,1)};t.now||(t.now=t.webkitNow||t.mozNow||t.msNow||function(){return(Date.now?Date.now():+new Date)-n}),t.mark||(t.mark=t.webkitMark||function(e){var n={name:e,entryType:"mark",startTime:t.now(),duration:0};r.push(n),o[e]=n}),t.measure||(t.measure=t.webkitMeasure||function(e,n,t){n=o[n].startTime,t=o[t].startTime,r.push({name:e,entryType:"measure",startTime:n,duration:t-n})}),t.getEntriesByType||(t.getEntriesByType=t.webkitGetEntriesByType||function(e){return a("entryType",e)}),t.getEntriesByName||(t.getEntriesByName=t.webkitGetEntriesByName||function(e){return a("name",e)}),t.clearMarks||(t.clearMarks=t.webkitClearMarks||function(e){i("mark",e)}),t.clearMeasures||(t.clearMeasures=t.webkitClearMeasures||function(e){i("measure",e)}),e.performance=t,"function"==typeof define&&(define.amd||define.ajs)&&define("performance",[],(function(){return t}))}(window);var u=o.dimensions,f={data:{},isSend:!1},p=function(){var e=v.config;d(["appid"],e)?window.performance&&!f.isSend&&(Math.random()>e.sample||(m(o.page,f.data),f.isSend=!0)):console.error("YEP init failed, appid is required.")};function m(e,n){if(e&&n){var t=n.old?function(e){var n={sample:"rate",page:"href"};for(var t in e){var r=n[t];if(r){var o=e[t];e[r]=o,delete e[t]}}return e}(n):n,r={data:encodeURIComponent(JSON.stringify(t))},a=(Number(n.oversea)?o.oversea:n.test?o.testDomain:o.domain)+e+i(r);s()?navigator.sendBeacon(a):(new Image).src=a}}function l(e){var n;if(d(["appid"],v.config)){var t=(r(n={},e.name,e.value),r(n,e.name+"Rating",e.rating),r(n,"page",window.location.href),r(n,"appid",v.config.appid),n);if(e){var a={data:encodeURIComponent(JSON.stringify(t))},c=(Number(e.oversea)?o.oversea:e.test?o.testDomain:o.domain)+o.vitals+i(a);s()?navigator.sendBeacon(c):(new Image).src=c}}else console.error("appid is required, web-vitals report stopped")}function y(e){if(window.performance){var n={enhance:0},t=performance.timing;performance.getEntriesByType&&performance.getEntriesByType("navigation")&&performance.getEntriesByType("navigation")[0]&&(t=performance.getEntriesByType("navigation")[0],n.enhance=1);var r=function(e,n){var t={};if(!e)return t;for(var r=n.length,o=0;o<r;o++)void 0!==e[n[o]]&&(t[n[o]]=e[n[o]]);return t}(t,u),i=v.config.old?o.key[1]:o.key[2];for(var d in n[i.dns]=Number(r.domainLookupEnd-r.domainLookupStart),n[i.tcp]=Number(r.connectEnd-r.connectStart),n[i.ttfb]=Number(r.responseStart-r.requestStart),n[i.trans]=Number(r.responseEnd-r.responseStart),n[i.dom]=Number(r.domInteractive-r.responseEnd),n[i.res]=Number(r.loadEventStart-r.domContentLoadedEventEnd),n[i.fb]=Number(r.responseStart-r.domainLookupStart),n[i.fpt]=Number(r.responseEnd-r.fetchStart),n[i.tti]=Number(r.domInteractive-r.fetchStart),n[i.ready]=Number(r.domContentLoadedEventEnd-r.fetchStart),n[i.load]=Number(r.loadEventStart-r.fetchStart),n.ebs=r.encodedBodySize?Number(r.encodedBodySize):0,n.dbs=r.decodedBodySize?Number(r.decodedBodySize):0,n.ts=r.transferSize?Number(r.transferSize):0,n.ssl=-1!==location.href.indexOf("https")&&r.secureConnectionStart?Number(r.connectEnd-r.secureConnectionStart):0,n)n[d]=n[d]<=0?0:Number(n[d].toFixed(2));return e.page||location&&location.href&&(n.page=location.href),a(e,n)}console.error("window.performance doesn't exist. Can't gather performance data.")}function v(){var e=[].slice.call(arguments,0);if(0===e.length)throw new Error("Method name is required.");v[e[0]].apply(null,e.slice(1))}if(v.set=function(e){v.config=a(v.config,e)},v.dimension=function(e){var n={dimension:e};v.config=a(v.config,n)},v.custom=function(e){var n=v.config;if(!(Math.random()>n.sample)){e.page||location&&location.href&&(n.page=location.href);var t=a(n,e,o.customIgnore);m(o.custom,t)}},v.config={appid:null,sample:.1,immed:0,release:"",page:"",oversea:0,vn:"1.0.29",old:0,test:0},window.yep&&window.yep.q){for(var b=window.yep.q.length,w=0;w<b;w++)v.apply(null,window.yep.q[w]);window.yep=v}!function(){v.config.immed?(f.data=y(v.config),p()):"complete"===document.readyState?(c(l,this),f.data=y(v.config),p()):window.addEventListener&&window.addEventListener("load",(function(){c(l),f.data=y(v.config),p()}))}();var g=v;return n}()}));